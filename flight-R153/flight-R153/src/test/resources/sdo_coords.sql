alter table pub_dim_facility add location sdo_geometry;
update pub_dim_facility f set location = sdo_geometry(2001, 4326, sdo_point_type(f.longitude, f.latitude, null), null, null);
CREATE INDEX PUB_DIM_FACILITY_LOCATION_IDX ON PUB_DIM_FACILITY (location) INDEXTYPE IS MDSYS.SPATIAL_INDEX;

insert into user_sdo_geom_metadata values('PUB_DIM_FACILITY', 'LOCATION', MDSYS.SDO_DIM_ARRAY(MDSYS.SDO_DIM_ELEMENT('X',-180,180,0.000001),MDSYS.SDO_DIM_ELEMENT('Y',-90,90,0.000001)), 4326)

select * from user_sdo_geom_metadata

McLean, VA
select this_.FACILITY_ID as FACILITY1_2_1_, this_.YEAR as YEAR2_1_, this_.ADDRESS1 as ADDRESS3_2_1_, this_.ADDRESS2 as ADDRESS4_2_1_, this_.BAMM_USED_DESC as BAMM5_2_1_, this_.CEMS_USED as CEMS6_2_1_, this_.CITY as CITY2_1_, this_.CO2_CAPTURED as CO8_2_1_, this_.EMITTED_CO2_SUPPLIED as EMITTED9_2_1_, this_.COUNTY as COUNTY2_1_, this_.COUNTY_FIPS as COUNTY11_2_1_, this_.EGGRT_FACILITY_ID as EGGRT12_2_1_, this_.EMISSION_CLASSIFICATION_CODE as EMISSION13_2_1_, this_.FACILITY_NAME as FACILITY14_2_1_, this_.FRS_ID as FRS15_2_1_, this_.PUBLIC_HTML as PUBLIC16_2_1_, this_.LATITUDE as LATITUDE2_1_, this_.LOCATION as LOCATION2_1_, this_.LONGITUDE as LONGITUDE2_1_, this_.NAICS_CODE as NAICS20_2_1_, this_.PROGRAM_NAME as PROGRAM21_2_1_, this_.PROGRAM_SYS_ID as PROGRAM22_2_1_, this_.REPORTED_SUBPARTS as REPORTED23_2_1_, this_.STATE as STATE2_1_, this_.STATE_NAME as STATE25_2_1_, this_.TRIBAL_LAND_ID as TRIBAL28_2_1_, this_.VERIFICATION_COMPLETE as VERIFIC26_2_1_, this_.ZIP as ZIP2_1_, lutriballa2_.TRIBAL_LAND_ID as TRIBAL1_13_0_, lutriballa2_.TRIBAL_LAND_NAME as TRIBAL2_13_0_ from PUB_DIM_FACILITY this_ left outer join PUB_LU_TRIBAL_LANDS lutriballa2_ on this_.TRIBAL_LAND_ID=lutriballa2_.TRIBAL_LAND_ID where SDO_WITHIN_DISTANCE(this_.LOCATION,MDSYS.SDO_GEOMETRY(2001, 4326, MDSYS.SDO_POINT_TYPE(-77.1778, 38.9342,NULL),NULL,NULL),'unit=mile distance=10.0') = 'TRUE'
Oakland, CA
select this_.FACILITY_ID as FACILITY1_2_1_, this_.YEAR as YEAR2_1_, this_.ADDRESS1 as ADDRESS3_2_1_, this_.ADDRESS2 as ADDRESS4_2_1_, this_.BAMM_USED_DESC as BAMM5_2_1_, this_.CEMS_USED as CEMS6_2_1_, this_.CITY as CITY2_1_, this_.CO2_CAPTURED as CO8_2_1_, this_.EMITTED_CO2_SUPPLIED as EMITTED9_2_1_, this_.COUNTY as COUNTY2_1_, this_.COUNTY_FIPS as COUNTY11_2_1_, this_.EGGRT_FACILITY_ID as EGGRT12_2_1_, this_.EMISSION_CLASSIFICATION_CODE as EMISSION13_2_1_, this_.FACILITY_NAME as FACILITY14_2_1_, this_.FRS_ID as FRS15_2_1_, this_.PUBLIC_HTML as PUBLIC16_2_1_, this_.LATITUDE as LATITUDE2_1_, this_.LOCATION as LOCATION2_1_, this_.LONGITUDE as LONGITUDE2_1_, this_.NAICS_CODE as NAICS20_2_1_, this_.PROGRAM_NAME as PROGRAM21_2_1_, this_.PROGRAM_SYS_ID as PROGRAM22_2_1_, this_.REPORTED_SUBPARTS as REPORTED23_2_1_, this_.STATE as STATE2_1_, this_.STATE_NAME as STATE25_2_1_, this_.TRIBAL_LAND_ID as TRIBAL28_2_1_, this_.VERIFICATION_COMPLETE as VERIFIC26_2_1_, this_.ZIP as ZIP2_1_, lutriballa2_.TRIBAL_LAND_ID as TRIBAL1_13_0_, lutriballa2_.TRIBAL_LAND_NAME as TRIBAL2_13_0_ from PUB_DIM_FACILITY this_ left outer join PUB_LU_TRIBAL_LANDS lutriballa2_ on this_.TRIBAL_LAND_ID=lutriballa2_.TRIBAL_LAND_ID where SDO_WITHIN_DISTANCE(this_.LOCATION,MDSYS.SDO_GEOMETRY(2001, 4326, MDSYS.SDO_POINT_TYPE(-122.391018, 37.93103,NULL),NULL,NULL),'unit=mile distance=10.0') = 'TRUE'

select CHARID from pub_dim_ldc_geo l where SDO_INSIDE(MDSYS.SDO_GEOMETRY(2001, 4326, MDSYS.SDO_POINT_TYPE(-123.464355, 45.120053,NULL),NULL,NULL), l.geometry) = 'TRUE'

